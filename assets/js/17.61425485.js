(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{268:function(t,o,s){"use strict";s.r(o);var i=s(38),a=Object(i.a)({},function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"options-请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-请求","aria-hidden":"true"}},[t._v("#")]),t._v(" options 请求")]),t._v(" "),s("h2",{attrs:{id:"什么是-options-请求？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-options-请求？","aria-hidden":"true"}},[t._v("#")]),t._v(" 什么是 options 请求？")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("在跨域的情况下，浏览器在发送真正请求之前，先发送一个方法为 OPTIONS 的预检请求，这个请求用来验证本次请求是否安全。")])]),t._v(" "),s("h2",{attrs:{id:"引起-options-请求的原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引起-options-请求的原因","aria-hidden":"true"}},[t._v("#")]),t._v(" 引起 options 请求的原因")]),t._v(" "),s("ul",[s("li",[t._v("请求方法不是 GET/HEAD/POST 。")]),t._v(" "),s("li",[t._v("POST 请求的 "),s("code",[t._v("Content-Type")]),t._v(" 并非 "),s("code",[t._v("application/x-www-form-urlencoded")]),t._v("，"),s("code",[t._v("multipart/form-data")]),t._v(" 或 "),s("code",[t._v("text/plain")]),t._v(" 。")]),t._v(" "),s("li",[t._v("请求设置了自定义的 header 字段。")])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("以上情况都是在跨域的情况下才会触发 options 。")])]),t._v(" "),s("h2",{attrs:{id:"禁止-options-请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#禁止-options-请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 禁止 options 请求")]),t._v(" "),s("ul",[s("li",[t._v("确保请求在同域下进行，则不会触发 options 。")]),t._v(" "),s("li",[t._v("在跨域情况下，options 请求无法禁用或取消， 只能通过服务端对 options 请求做出正确回应，这样才能保证 options 请求之后，put、post 等请求才可以被发出，如果 options 请求不满足，则可以返回403取消接下来的原有 put/post 请求。")]),t._v(" "),s("li",[t._v("设置 "),s("code",[t._v("Access-Control-Max-Age: 秒数")]),t._v(" ，缓存 options 请求，每隔设置的时间才触发 options 请求。")])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[s("code",[t._v("403 Forbidden")]),t._v(" 是HTTP协议中的一个状态码(Status Code)。可以简单的理解为没有权限访问此站，该状态表示服务器理解了本次请求但是拒绝执行该任务。")])])])},[],!1,null,null,null);o.default=a.exports}}]);