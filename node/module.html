<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¸¸ç”¨çš„ä¸€äº›æ¨¡å— | ğŸŒ ğŸ¤£ ä»é›¶å¼€å§‹çš„å‰ç«¯å¼‚ä¸–ç•Œ~</title>
    <meta name="description" content="a frontend note book">
    
    
    <link rel="preload" href="/notebook/assets/css/0.styles.3ed308cc.css" as="style"><link rel="preload" href="/notebook/assets/js/app.ba99c14d.js" as="script"><link rel="preload" href="/notebook/assets/js/2.35fbb34e.js" as="script"><link rel="preload" href="/notebook/assets/js/24.a3da3af9.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.803fbc69.js"><link rel="prefetch" href="/notebook/assets/js/11.558959fa.js"><link rel="prefetch" href="/notebook/assets/js/12.8013364d.js"><link rel="prefetch" href="/notebook/assets/js/13.fc53b13d.js"><link rel="prefetch" href="/notebook/assets/js/14.082aff3a.js"><link rel="prefetch" href="/notebook/assets/js/15.53308a1f.js"><link rel="prefetch" href="/notebook/assets/js/16.49c94e82.js"><link rel="prefetch" href="/notebook/assets/js/17.61425485.js"><link rel="prefetch" href="/notebook/assets/js/18.93c2fdd3.js"><link rel="prefetch" href="/notebook/assets/js/19.653c9e67.js"><link rel="prefetch" href="/notebook/assets/js/20.7ba0578a.js"><link rel="prefetch" href="/notebook/assets/js/21.9149643e.js"><link rel="prefetch" href="/notebook/assets/js/22.71ccb4f2.js"><link rel="prefetch" href="/notebook/assets/js/23.36b1bbbc.js"><link rel="prefetch" href="/notebook/assets/js/25.440868b0.js"><link rel="prefetch" href="/notebook/assets/js/26.f8aab1c5.js"><link rel="prefetch" href="/notebook/assets/js/27.d8c93985.js"><link rel="prefetch" href="/notebook/assets/js/28.d12f3f2d.js"><link rel="prefetch" href="/notebook/assets/js/29.a35f38f5.js"><link rel="prefetch" href="/notebook/assets/js/3.2b640303.js"><link rel="prefetch" href="/notebook/assets/js/4.b71b9750.js"><link rel="prefetch" href="/notebook/assets/js/5.e39810fd.js"><link rel="prefetch" href="/notebook/assets/js/6.49423eaa.js"><link rel="prefetch" href="/notebook/assets/js/7.523412aa.js"><link rel="prefetch" href="/notebook/assets/js/8.adb59610.js"><link rel="prefetch" href="/notebook/assets/js/9.d9c2e66b.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.3ed308cc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">ğŸŒ ğŸ¤£ ä»é›¶å¼€å§‹çš„å‰ç«¯å¼‚ä¸–ç•Œ~</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/html/block.html" class="nav-link">HTML</a></div><div class="nav-item"><a href="/notebook/css/layout/css.html" class="nav-link">CSS</a></div><div class="nav-item"><a href="/notebook/js/javascript.html" class="nav-link">JS</a></div><div class="nav-item"><a href="/notebook/vue/experience.html" class="nav-link">VUE</a></div><div class="nav-item"><a href="/notebook/node/WhatIsNode.js.html" class="nav-link">NODE</a></div><div class="nav-item"><a href="/notebook/http/http.html" class="nav-link">HTTP</a></div><div class="nav-item"><a href="/notebook/eventLoop.html" class="nav-link">EventLoop</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/html/block.html" class="nav-link">HTML</a></div><div class="nav-item"><a href="/notebook/css/layout/css.html" class="nav-link">CSS</a></div><div class="nav-item"><a href="/notebook/js/javascript.html" class="nav-link">JS</a></div><div class="nav-item"><a href="/notebook/vue/experience.html" class="nav-link">VUE</a></div><div class="nav-item"><a href="/notebook/node/WhatIsNode.js.html" class="nav-link">NODE</a></div><div class="nav-item"><a href="/notebook/http/http.html" class="nav-link">HTTP</a></div><div class="nav-item"><a href="/notebook/eventLoop.html" class="nav-link">EventLoop</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Html</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notebook/vue/experience.html" class="sidebar-link">Vue</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notebook/regExp.html" class="sidebar-link">æ­£åˆ™è¡¨è¾¾å¼</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Node</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/node/WhatIsNode.js.html" class="sidebar-link">ä»€ä¹ˆæ˜¯Node.js</a></li><li><a href="/notebook/node/module.html" class="active sidebar-link">å¸¸ç”¨çš„ä¸€äº›æ¨¡å—</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/node/module.html#fs-æ–‡ä»¶ç³»ç»Ÿ" class="sidebar-link">fs-æ–‡ä»¶ç³»ç»Ÿ</a></li><li class="sidebar-sub-header"><a href="/notebook/node/module.html#http-åè®®" class="sidebar-link">http-åè®®</a></li><li class="sidebar-sub-header"><a href="/notebook/node/module.html#net-ç½‘ç»œ" class="sidebar-link">net-ç½‘ç»œ</a></li><li class="sidebar-sub-header"><a href="/notebook/node/module.html#path-è·¯å¾„" class="sidebar-link">path-è·¯å¾„</a></li><li class="sidebar-sub-header"><a href="/notebook/node/module.html#process-è¿›ç¨‹" class="sidebar-link">process-è¿›ç¨‹</a></li></ul></li><li><a href="/notebook/node/NPM-Package.html" class="sidebar-link">å¸¸è§çš„ä¸€äº›npmåŒ…</a></li><li><a href="/notebook/node/EventEmitter.html" class="sidebar-link">äº‹ä»¶å‘å°„å™¨</a></li><li><a href="/notebook/node/nodeCase.html" class="sidebar-link">Node.jså¯ä»¥åšä»€ä¹ˆï¼Ÿ</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Http</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notebook/eventLoop.html" class="sidebar-link">æµè§ˆå™¨äº‹ä»¶å¾ªç¯(Event Loop)</a></li><li><a href="/notebook/article.html" class="sidebar-link">ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š</a></li><li><a href="/notebook/unresolved.html" class="sidebar-link">æœªå®Œå…¨è§£å†³çš„éœ€æ±‚</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="å¸¸ç”¨çš„ä¸€äº›æ¨¡å—"><a href="#å¸¸ç”¨çš„ä¸€äº›æ¨¡å—" aria-hidden="true" class="header-anchor">#</a> å¸¸ç”¨çš„ä¸€äº›æ¨¡å—</h1> <h2 id="fs-æ–‡ä»¶ç³»ç»Ÿ"><a href="#fs-æ–‡ä»¶ç³»ç»Ÿ" aria-hidden="true" class="header-anchor">#</a> fs-æ–‡ä»¶ç³»ç»Ÿ</h2> <div class="tip custom-block"><p>fs æ¨¡å—æä¾›äº†ä¸€äº›æ¥å£ç”¨äºä»¥ä¸€ç§ç±»ä¼¼æ ‡å‡† POSIX(å¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼ˆPortable Operating System Interface of UNIXï¼Œç¼©å†™ä¸º POSIX ï¼‰) å‡½æ•°çš„æ–¹å¼ä¸æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚</p></div> <h3 id="å±æ€§å’Œæ–¹æ³•"><a href="#å±æ€§å’Œæ–¹æ³•" aria-hidden="true" class="header-anchor">#</a> å±æ€§å’Œæ–¹æ³•</h3> <ol><li><code>fs.readdir(path, callback)</code></li></ol> <div class="tip custom-block"><p>å¼‚æ­¥è¯»å–ç›®å½•çš„å†…å®¹ã€‚ å›è°ƒæœ‰ä¸¤ä¸ªå‚æ•° (err, files)ï¼Œå…¶ä¸­ files æ˜¯ç›®å½•ä¸­æ–‡ä»¶åçš„æ•°ç»„ï¼Œä¸åŒ…å« '.' å’Œ '..'ã€‚</p></div> <ol start="2"><li><code>fs.readdirSync(path)</code></li></ol> <div class="tip custom-block"><p>å¼‚æ­¥è¯»å–ç›®å½•çš„å†…å®¹ï¼Œè¿”å›ç›®å½•ä¸­æ–‡ä»¶åçš„æ•°ç»„ã€‚</p></div> <ol start="3"><li><code>fs.rename(oldPath, newPath, callback)</code></li></ol> <div class="tip custom-block"><p>å¼‚æ­¥ä¿®æ”¹æ–‡ä»¶åã€‚ å›è°ƒæœ‰ä¸€ä¸ªå‚æ•° (err)ï¼ŒoldPathï¼Œ newPath å¯ä»¥ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
<code>fs.rename</code>ä¸åªä¿®æ”¹æ–‡ä»¶åï¼Œä¹Ÿèƒ½å¤åˆ¶ç§»åŠ¨æ–‡ä»¶ï¼Œè§¦å‘äº†<code>fs.rename</code>ï¼Œå¯æ”¹å˜<code>fs.watch()</code>çš„äº‹ä»¶ç±»å‹å‚æ•°ã€‚
<code>fs.rename</code>ä¸<code>fs.writeFile</code>ä¸åŒï¼Œä¸èƒ½åƒ<code>fs.writeFile</code>é‡å†™æ–‡ä»¶å†…å®¹ï¼Œä½†<code>fs.writeFile</code>ä¹Ÿèƒ½åšåˆ°<code>fs.rename</code>åšåˆ°çš„äº‹ã€‚
åˆ©ç”¨<code>fs.readdir()</code>å’Œ<code>fs.rename()</code>æŠŠåå­—åŒ…å«'-'çš„å›¾ç‰‡æ›¿æ¢æˆ'_':</p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> src <span class="token operator">=</span> <span class="token string">'./icons'</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/_/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">let</span> oldPath <span class="token operator">=</span> src <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> file<span class="token punctuation">,</span>
				newPath <span class="token operator">=</span> src <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/_/g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'newPath'</span><span class="token punctuation">,</span> newPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
			fs<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span>oldPath<span class="token punctuation">,</span> newPath<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'done!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ol start="4"><li><code>fs.writeFile(file, data, callback)</code></li></ol> <div class="tip custom-block"><p>å¼‚æ­¥åœ°å†™å…¥æ•°æ®åˆ°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™è¦†ç›–æ–‡ä»¶ã€‚ data å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– bufferã€‚callbackå‚æ•°errï¼Œfileå‚æ•°å¯ä»¥æ˜¯è·¯å¾„å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€‚</p></div> <ol start="5"><li><code>fs.readFile(path, callback)</code></li></ol> <div class="tip custom-block"><p>å¼‚æ­¥è¯»å–æ–‡ä»¶ï¼Œcallbackæœ‰ä¸¤ä¸ªå‚æ•°(err, data), dataæ˜¯Bufferç±»å‹ï¼Œè°ƒç”¨<code>toString()</code>å³å¯å˜æˆå­—ç¬¦ä¸²ã€‚</p></div> <p>åˆ©ç”¨<code>fs.readFile()</code>å’Œ<code>fs.writeFile()</code>ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">// ä¿®æ”¹index.htmlæ–‡ä»¶å†…å®¹</span>
    <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> html</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> tpml <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'second.html'</span><span class="token punctuation">,</span> tpml<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶å·²ç»ä¿å­˜'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="6"><li><code>fs.createReadStream(path)</code></li></ol> <div class="tip custom-block"><p>è¯»å–æµæ•°æ®ã€‚</p></div> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æµæ•°æ®</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¯ä»¥è¯»å–jsonçš„å†…å®¹</span>
<span class="token keyword">let</span> stream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    stream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token parameter">chunk</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finished chunk:'</span> <span class="token operator">+</span> chunk<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¯ä»¥è¯»å–jsçš„å†…å®¹    </span>
<span class="token keyword">let</span> otherStream <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'./helloWorld.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    otherStream<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token parameter">chunk</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'other chunk:'</span> <span class="token operator">+</span> chunk<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>å¦‚ä½•æŠŠä¸€å¼ å›¾ç‰‡æµåˆ°å®¢æˆ·ç«¯ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'image/png'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®ä¸€ä¸ªä»è¯»å–æµåˆ°å†™å‡ºæµçš„ç®¡é“</span>
        fs<span class="token punctuation">.</span><span class="token function">createReadStream</span><span class="token punctuation">(</span><span class="token string">'./node.png'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Server running at http://localhost:3000/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="7"><li><code>fs.mkdir(path, callback)</code></li></ol> <div class="tip custom-block"><p>å¼‚æ­¥åœ°åˆ›å»ºç›®å½•ï¼Œcallbackæœ‰ä¸€ä¸ªå‚æ•°errorï¼Œä½†æ˜¯ä¸èƒ½ä¸€æ¬¡ç”Ÿæˆå¤šå±‚æ–‡ä»¶å¤¹ï¼Œéœ€è¦å¤šæ¬¡å åŠ è°ƒç”¨ã€‚</p></div> <ol start="8"><li><code>fs.mkdirSync(path, callback)</code></li></ol> <div class="tip custom-block"><p>åŒæ­¥åœ°åˆ›å»ºç›®å½•ï¼Œcallbackæœ‰ä¸€ä¸ªå‚æ•°errorï¼ŒåŒæ ·ä¹Ÿä¸èƒ½ä¸€æ¬¡ç”Ÿæˆå¤šå±‚æ–‡ä»¶å¤¹ï¼Œéœ€è¦å¤šæ¬¡å åŠ è°ƒç”¨ã€‚</p></div> <p>åˆ©ç”¨<code>fs.mkdirSync()</code>ç”Ÿæˆå¤šå±‚ç›®å½•ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> dir <span class="token operator">=</span> <span class="token string">'./dir/subdir/father/son'</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">mkMutiDir</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> fragments <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        dir<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">subdir<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            fragments <span class="token operator">+=</span> <span class="token string">'/'</span> <span class="token operator">+</span> subdir<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                fragments <span class="token operator">=</span> fragments<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fragments<span class="token punctuation">)</span><span class="token punctuation">;</span>
            fs<span class="token punctuation">.</span><span class="token function">mkdirSync</span><span class="token punctuation">(</span>fragments<span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'finished'</span><span class="token punctuation">,</span> fragments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">mkMutiDir</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol start="9"><li><code>fs.watch(filname, callback)</code></li></ol> <div class="tip custom-block"><p>ç›‘è§† filename çš„å˜åŒ–ï¼Œfilename å¯ä»¥æ˜¯ä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªç›®å½•ã€‚ç›‘å¬å™¨å›è°ƒï¼ˆcallbackï¼‰æœ‰ä¸¤ä¸ªå‚æ•° (eventType, filename)ã€‚ eventType å¯èƒ½æ˜¯ 'rename' æˆ– 'change'ï¼Œfilename æ˜¯è§¦å‘äº‹ä»¶çš„æ–‡ä»¶çš„åç§°ã€‚åœ¨å¤§å¤šæ•°å¹³å°ï¼Œå½“ç›®å½•ä¸­ä¸€ä¸ªæ–‡ä»¶å‡ºç°æˆ–æ¶ˆå¤±æ—¶ï¼Œå°±ä¼šè§¦å‘ 'rename' äº‹ä»¶ã€‚fs.watch çš„æ¥å£ä¸æ˜¯ 100ï¼… è·¨å¹³å°ä¸€è‡´çš„ï¼Œä¸”åœ¨æŸäº›æƒ…å†µä¸‹ä¸å¯ç”¨ã€‚</p></div> <h2 id="http-åè®®"><a href="#http-åè®®" aria-hidden="true" class="header-anchor">#</a> http-åè®®</h2> <div class="tip custom-block"><p>è¦ä½¿ç”¨ HTTP æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ï¼Œéœ€è¦ require('http')ã€‚</p></div> <h3 id="nodejsæ­å»ºç®€å•çš„webæœåŠ¡å™¨"><a href="#nodejsæ­å»ºç®€å•çš„webæœåŠ¡å™¨" aria-hidden="true" class="header-anchor">#</a> nodejsæ­å»ºç®€å•çš„webæœåŠ¡å™¨</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">// getã€postéƒ½èƒ½è¯·æ±‚</span>
    <span class="token keyword">const</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'ContentType'</span><span class="token punctuation">:</span> <span class="token string">'text/plain'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'HelloWorld\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Server running at http://localhost:3000/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="net-ç½‘ç»œ"><a href="#net-ç½‘ç»œ" aria-hidden="true" class="header-anchor">#</a> net-ç½‘ç»œ</h2> <div class="tip custom-block"><p>net æ¨¡å—æä¾›äº†åˆ›å»ºåŸºäºæµçš„ TCP æˆ– IPC æœåŠ¡å™¨(net.createServer())å’Œå®¢æˆ·ç«¯(net.createConnection()) çš„å¼‚æ­¥ç½‘ç»œ APIã€‚</p></div> <ol><li><code>net.createServer(callback)</code></li></ol> <div class="tip custom-block"><p>åˆ›å»ºä¸€ä¸ªæ–°çš„TCPæˆ–IPCæœåŠ¡ï¼Œcallbackæœ‰ä¸€ä¸ªå‚æ•°socketï¼Œå¯ä»¥åœ¨å›è°ƒé‡Œé¢ç›‘å¬socketçš„ä¸€äº›äº‹ä»¶ã€‚</p></div> <h2 id="path-è·¯å¾„"><a href="#path-è·¯å¾„" aria-hidden="true" class="header-anchor">#</a> path-è·¯å¾„</h2> <div class="tip custom-block"><p><code>path</code>æ¨¡å—æä¾›äº†ä¸€äº›å·¥å…·å‡½æ•°ï¼Œç”¨äºå¤„ç†æ–‡ä»¶ä¸ç›®å½•çš„è·¯å¾„ã€‚</p></div> <h3 id="å±æ€§å’Œæ–¹æ³•-2"><a href="#å±æ€§å’Œæ–¹æ³•-2" aria-hidden="true" class="header-anchor">#</a> å±æ€§å’Œæ–¹æ³•</h3> <ol><li><code>path.resolve([...paths])</code></li></ol> <div class="tip custom-block"><p>æŠŠè·¯å¾„æˆ–è·¯å¾„ç‰‡æ®µçš„åºåˆ—ä»å³åˆ°å·¦è§£ææˆä¸ºä¸€ä¸ªç»å¯¹è·¯å¾„ï¼ˆæœ«å°¾çš„æ–œæ ä¼šè¢«åˆ é™¤ï¼‰ï¼Œå¦‚æœè§£æåè¿˜æ²¡ç”Ÿæˆç»å¯¹è·¯å¾„ï¼Œå½“å‰å·¥ä½œç›®å½•ä¼šè¢«ç”¨ä¸Šã€‚å¦‚æœä¸ä¼ å…¥pathç‰‡æ®µ,path.resolve()ä¼šè¿”å›å½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</p></div> <ol start="2"><li><code>path.join([...paths])</code></li></ol> <div class="tip custom-block"><p>ç”¨äºè¿æ¥è·¯å¾„ã€‚è¯¥æ–¹æ³•çš„ä¸»è¦ç”¨é€”åœ¨äºï¼Œä¼šæ­£ç¡®ä½¿ç”¨å½“å‰ç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦ï¼ŒUnixç³»ç»Ÿæ˜¯&quot;/&quot;ï¼ŒWindowsç³»ç»Ÿæ˜¯&quot;&quot;ã€‚é•¿åº¦ä¸ºé›¶çš„ path ç‰‡æ®µä¼šè¢«å¿½ç•¥ã€‚ å¦‚æœè¿æ¥åçš„è·¯å¾„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªé•¿åº¦ä¸ºé›¶çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› '.'ï¼Œè¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•ã€‚</p></div> <h2 id="process-è¿›ç¨‹"><a href="#process-è¿›ç¨‹" aria-hidden="true" class="header-anchor">#</a> process-è¿›ç¨‹</h2> <div class="tip custom-block"><p><code>process</code>å¯¹è±¡æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒæä¾›å½“å‰Node.jsè¿›ç¨‹çš„æœ‰å…³ä¿¡æ¯ï¼Œä»¥åŠæ§åˆ¶å½“å‰Node.jsè¿›ç¨‹ã€‚å› ä¸ºæ˜¯å…¨å±€å˜é‡ï¼Œæ‰€ä»¥ä¸éœ€è¦<code>require()</code>ã€‚</p></div> <h3 id="å±æ€§å’Œæ–¹æ³•-3"><a href="#å±æ€§å’Œæ–¹æ³•-3" aria-hidden="true" class="header-anchor">#</a> å±æ€§å’Œæ–¹æ³•</h3> <ol><li><code>process.cwd()</code></li></ol> <div class="tip custom-block"><p>æ˜¯å½“å‰æ‰§è¡Œnodeå‘½ä»¤æ—¶å€™çš„æ–‡ä»¶å¤¹åœ°å€ â€”â€”å·¥ä½œç›®å½•ã€‚<code>__dirname</code>: å…¨å±€å˜é‡ï¼Œè¿”å›å½“å‰è¿è¡Œjsæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ç›®å½•ã€‚é€šå¸¸ä¸<code>process.cwd()</code>è¿”å›çš„è·¯å¾„æ˜¯ä¸€æ ·çš„ã€‚</p></div> <ol start="2"><li><code>process.env</code></li></ol> <div class="tip custom-block"><p>è¿”å›ä¸€ä¸ªåŒ…å«ç”¨æˆ·ç¯å¢ƒä¿¡æ¯çš„å¯¹è±¡ã€‚</p></div> <p>å¯ä»¥ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">// åœ¨å‘½ä»¤è¡Œè¾“å…¥</span>
    node <span class="token operator">-</span>e <span class="token string">'process.env.foo = &quot;bar&quot;'</span> <span class="token comment">// ä½†ä¸ä¼šç”Ÿæ•ˆ</span>

    <span class="token comment">// ä¸‹é¢è¿™ç§æ–¹æ³•ä¼šç”Ÿæ•ˆ</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åœ¨process.envæ–°å¢å±æ€§ä¼šè½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// =&gt; 'null'</span>
    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// =&gt; 'undefined'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ç”¨<code>delete</code>åˆ é™¤process.envçš„å±æ€§</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TEST</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">delete</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TEST</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TEST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>åœ¨windowç³»ç»Ÿä¸‹ï¼Œç¯å¢ƒå˜é‡æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TEST</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// =&gt; 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p>åœ¨vue-cliå¯ä»¥ä½¿ç”¨process.envæ¥åˆ‡æ¢å¼€å‘ç¯å¢ƒapiå’Œæµ‹è¯•ç¯å¢ƒapiã€‚</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/notebook/node/WhatIsNode.js.html" class="prev">
          ä»€ä¹ˆæ˜¯Node.js
        </a></span> <span class="next"><a href="/notebook/node/NPM-Package.html">
          å¸¸è§çš„ä¸€äº›npmåŒ…
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notebook/assets/js/app.ba99c14d.js" defer></script><script src="/notebook/assets/js/2.35fbb34e.js" defer></script><script src="/notebook/assets/js/24.a3da3af9.js" defer></script>
  </body>
</html>
