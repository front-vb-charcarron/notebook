<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>变量 | 🌎 🤣 从零开始的前端异世界~</title>
    <meta name="description" content="a frontend note book">
    
    
    <link rel="preload" href="/notebook/assets/css/0.styles.3ed308cc.css" as="style"><link rel="preload" href="/notebook/assets/js/app.ba99c14d.js" as="script"><link rel="preload" href="/notebook/assets/js/2.35fbb34e.js" as="script"><link rel="preload" href="/notebook/assets/js/20.7ba0578a.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.803fbc69.js"><link rel="prefetch" href="/notebook/assets/js/11.558959fa.js"><link rel="prefetch" href="/notebook/assets/js/12.8013364d.js"><link rel="prefetch" href="/notebook/assets/js/13.fc53b13d.js"><link rel="prefetch" href="/notebook/assets/js/14.082aff3a.js"><link rel="prefetch" href="/notebook/assets/js/15.53308a1f.js"><link rel="prefetch" href="/notebook/assets/js/16.49c94e82.js"><link rel="prefetch" href="/notebook/assets/js/17.61425485.js"><link rel="prefetch" href="/notebook/assets/js/18.93c2fdd3.js"><link rel="prefetch" href="/notebook/assets/js/19.653c9e67.js"><link rel="prefetch" href="/notebook/assets/js/21.9149643e.js"><link rel="prefetch" href="/notebook/assets/js/22.71ccb4f2.js"><link rel="prefetch" href="/notebook/assets/js/23.36b1bbbc.js"><link rel="prefetch" href="/notebook/assets/js/24.a3da3af9.js"><link rel="prefetch" href="/notebook/assets/js/25.440868b0.js"><link rel="prefetch" href="/notebook/assets/js/26.f8aab1c5.js"><link rel="prefetch" href="/notebook/assets/js/27.d8c93985.js"><link rel="prefetch" href="/notebook/assets/js/28.d12f3f2d.js"><link rel="prefetch" href="/notebook/assets/js/29.a35f38f5.js"><link rel="prefetch" href="/notebook/assets/js/3.2b640303.js"><link rel="prefetch" href="/notebook/assets/js/4.b71b9750.js"><link rel="prefetch" href="/notebook/assets/js/5.e39810fd.js"><link rel="prefetch" href="/notebook/assets/js/6.49423eaa.js"><link rel="prefetch" href="/notebook/assets/js/7.523412aa.js"><link rel="prefetch" href="/notebook/assets/js/8.adb59610.js"><link rel="prefetch" href="/notebook/assets/js/9.d9c2e66b.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.3ed308cc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">🌎 🤣 从零开始的前端异世界~</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/html/block.html" class="nav-link">HTML</a></div><div class="nav-item"><a href="/notebook/css/layout/css.html" class="nav-link">CSS</a></div><div class="nav-item"><a href="/notebook/js/javascript.html" class="nav-link">JS</a></div><div class="nav-item"><a href="/notebook/vue/experience.html" class="nav-link">VUE</a></div><div class="nav-item"><a href="/notebook/node/WhatIsNode.js.html" class="nav-link">NODE</a></div><div class="nav-item"><a href="/notebook/http/http.html" class="nav-link">HTTP</a></div><div class="nav-item"><a href="/notebook/eventLoop.html" class="nav-link">EventLoop</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/html/block.html" class="nav-link">HTML</a></div><div class="nav-item"><a href="/notebook/css/layout/css.html" class="nav-link">CSS</a></div><div class="nav-item"><a href="/notebook/js/javascript.html" class="nav-link">JS</a></div><div class="nav-item"><a href="/notebook/vue/experience.html" class="nav-link">VUE</a></div><div class="nav-item"><a href="/notebook/node/WhatIsNode.js.html" class="nav-link">NODE</a></div><div class="nav-item"><a href="/notebook/http/http.html" class="nav-link">HTTP</a></div><div class="nav-item"><a href="/notebook/eventLoop.html" class="nav-link">EventLoop</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Html</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notebook/vue/experience.html" class="sidebar-link">Vue</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/js/javascript.html" class="sidebar-link">什么是JavaScript</a></li><li><a href="/notebook/js/variate.html" class="active sidebar-link">变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/js/variate.html#简单类型和复杂类型的一些区别" class="sidebar-link">简单类型和复杂类型的一些区别</a></li><li class="sidebar-sub-header"><a href="/notebook/js/variate.html#字符串-string" class="sidebar-link">字符串(string)</a></li><li class="sidebar-sub-header"><a href="/notebook/js/variate.html#数值-number" class="sidebar-link">数值(number)</a></li></ul></li><li><a href="/notebook/js/tools.html" class="sidebar-link">一些工具函数</a></li></ul></section></li><li><a href="/notebook/regExp.html" class="sidebar-link">正则表达式</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Http</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notebook/eventLoop.html" class="sidebar-link">浏览器事件循环(Event Loop)</a></li><li><a href="/notebook/article.html" class="sidebar-link">站在巨人的肩膀上</a></li><li><a href="/notebook/unresolved.html" class="sidebar-link">未完全解决的需求</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="变量"><a href="#变量" aria-hidden="true" class="header-anchor">#</a> 变量</h1> <h2 id="简单类型和复杂类型的一些区别"><a href="#简单类型和复杂类型的一些区别" aria-hidden="true" class="header-anchor">#</a> 简单类型和复杂类型的一些区别</h2> <ol><li>简单类型复制是进行值的拷贝，而复杂类型赋值是复制内存地址的指针。</li> <li>基本类型有6种：string、number、boolean、undefined、null、Symbol(es6新增)。</li> <li>复杂类型可以笼统归纳为1种：object。</li></ol> <h2 id="字符串-string"><a href="#字符串-string" aria-hidden="true" class="header-anchor">#</a> 字符串(string)</h2> <div class="tip custom-block"><p>用于文字上的表述</p></div> <h3 id="特点"><a href="#特点" aria-hidden="true" class="header-anchor">#</a> 特点</h3> <p>用单引号或双引号包裹起来</p> <h3 id="字符串的多行显示"><a href="#字符串的多行显示" aria-hidden="true" class="header-anchor">#</a> 字符串的多行显示</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token comment">//反单引号，专门用来多行显示，会把文本的所有格式完整保留下来。	</span>
	<span class="token comment">//es6新语法${}只能在反单引号里面用({}放变量名)</span>
	<span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        我叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        haha\$\{\},
        hahahaahah,
        我是反单引号.
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="字符串比较"><a href="#字符串比较" aria-hidden="true" class="header-anchor">#</a> 字符串比较</h3> <div class="tip custom-block"><p>字符串比较的是Unicode编码(每个字符相互比较), 小写字母比大写字母大。</p></div> <h3 id="拓展"><a href="#拓展" aria-hidden="true" class="header-anchor">#</a> 拓展</h3> <ul><li>字符串是不可变的！字符串不可以是指字符串的成员函数不会改变其原始值，而是创建并返回一个新的字符串，而数组的成员函数都是在其原始值上操作的。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	a <span class="token operator">===</span> c<span class="token punctuation">;</span> <span class="token comment">// false</span>
	a<span class="token punctuation">;</span> <span class="token comment">// &quot;foo&quot;</span>
	b<span class="token punctuation">;</span> <span class="token comment">// &quot;FOO&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>许多数组函数用来处理字符串很方便，可以通过借用数组'非变更方法'来处理字符串(即是用call、apply 借用数组非成员函数), 但字符串无法借用数组成员函数(例如 Array.prototype.reverse)。</li> <li>操作比较复杂字符(Unicode, 如星号、多字节字符等)需要通过 Unicode 的工具库(参考Esrever)。</li></ul> <h2 id="数值-number"><a href="#数值-number" aria-hidden="true" class="header-anchor">#</a> 数值(number)</h2> <div class="tip custom-block"><p>用于表达或操作数字进行运算的类型</p></div> <h3 id="javascript中的数字字面量一般用十进制表示，例如"><a href="#javascript中的数字字面量一般用十进制表示，例如" aria-hidden="true" class="header-anchor">#</a> Javascript中的数字字面量一般用十进制表示，例如:</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">42.3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="小数点前面的0可以省略"><a href="#小数点前面的0可以省略" aria-hidden="true" class="header-anchor">#</a> 小数点前面的0可以省略:</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0.42</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">.42</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="小数点后小数部分最后面的0也可以省略"><a href="#小数点后小数部分最后面的0也可以省略" aria-hidden="true" class="header-anchor">#</a> 小数点后小数部分最后面的0也可以省略:</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42.0</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">42.</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p>省略0的写法没有问题，只是不常见，但从代码的可读性考虑，不建议这样写。</p></div> <h3 id="数字变量和数字字面量的方法"><a href="#数字变量和数字字面量的方法" aria-hidden="true" class="header-anchor">#</a> 数字变量和数字字面量的方法</h3> <p><code>toExponential()</code> : 用来转换指数形式</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">5E10</span><span class="token punctuation">;</span>
	a<span class="token punctuation">;</span> <span class="token comment">//50000000000</span>
	a<span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;5e+10&quot;</span>

	<span class="token keyword">var</span> b <span class="token operator">=</span> a <span class="token operator">*</span> a<span class="token punctuation">;</span>
	b<span class="token punctuation">;</span> <span class="token comment">//2.5e+21</span>

	<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> a<span class="token punctuation">;</span>
	c<span class="token punctuation">;</span> <span class="token comment">//2e-11</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="tip custom-block"><p>特别大和特别小的数字默认用指数格式显示，与 <code>toExponential()</code> 函数的输出结果相同。</p></div> <p><code>toFixed()</code> : 可指定小数部分的显示位数。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42.59</span><span class="token punctuation">;</span>

	a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;43&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.6&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.59&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.590&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.5900&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="tip custom-block"><p>多出四舍五入，少了补零。</p></div> <p><code>toPrecision()</code> : 用来指定有效数位的显示数位</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42.59</span><span class="token punctuation">;</span>

	a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;4e+1&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;43&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.6&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.59&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.590&quot;</span>
	a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&quot;42.5900&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="tip custom-block"><p>指定总数位。</p></div> <h3 id="注意"><a href="#注意" aria-hidden="true" class="header-anchor">#</a> 注意</h3> <p>对于 <code>.</code> 运算符需要给予特别注意，因为它是一个有效的数字字符，会被优先识别为数字字面量的一部分，然后才是对象属性访问运算符。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token comment">// 无效语法</span>

	<span class="token number">42.</span> <span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//SyntaxError</span>

	<span class="token comment">// 下面的语法都有效：</span>
	<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.000&quot;</span>
	<span class="token number">0.42</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;0.420&quot;</span>
	<span class="token number">42.</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.000&quot;</span>

	<span class="token number">42.</span> <span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.000&quot;  然而这样的语法容易引起误会， 不建议使用。</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="遵循ieee754规范的语言的问题"><a href="#遵循ieee754规范的语言的问题" aria-hidden="true" class="header-anchor">#</a> 遵循IEEE754规范的语言的问题</h3> <p><code>0.1 + 0.2 === 0.3 // false</code> ;</p> <p><code>0.1 + 0.2</code> 的结果并非等于 <code>0.3</code> , 而是等于 <code>0.30000000000000004</code></p> <p>如果解决这个问题？</p> <ul><li><p>绝大多数的程序只需要处理整数，最大不超过百万或万亿，此时使用Javascript的数字类型是绝对安全的。</p></li> <li><p>判断 <code>0.1+0.2</code> 等于 <code>0.3</code> 的方法</p></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token comment">// Javascript的误差范围值'2^-52'</span>
    <span class="token comment">// 从ES6开始这个值存在'Number.EPSILON'</span>
    <span class="token comment">// EPSILON 小的正数</span>
	<span class="token comment">// ES6之前版本的polyfill：</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment">// 可以使用Number.EPSILON来比较两个数字是否相等(在指定的范围内)</span>
	<span class="token keyword">function</span> <span class="token function">numberCloseEnoughToEqual</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span> n2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n1 <span class="token operator">-</span> n2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>
	
	<span class="token function">numberCloseEnoughToEqual</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//true</span>
	<span class="token function">numberCloseEnoughToEqual</span><span class="token punctuation">(</span><span class="token number">0.0000001</span><span class="token punctuation">,</span> <span class="token number">0.0000002</span><span class="token punctuation">)</span>   <span class="token comment">//false</span>
	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="浮点数"><a href="#浮点数" aria-hidden="true" class="header-anchor">#</a> 浮点数</h3> <ul><li>最大浮点数定义在 <code>Number.MAX_VALUE</code> 中。 最小的浮点数定义在 <code>Number.MIN_VALUE</code> , 但是它不是负数，无限接近于0！</li></ul> <h3 id="整数的安全范围"><a href="#整数的安全范围" aria-hidden="true" class="header-anchor">#</a> 整数的安全范围</h3> <ol><li><p>能够被安全呈现的最大整数 <code>Number.MAX_SAFE_INTEGER</code>(16位),能够被安全呈现的最小整数<code>Number. MIN_SAFE_INTEGER</code>(16位)。</p></li> <li><p>对于较大的数字(例如数据库中的64位ID等)可以选择转换为字符串进行比较，如果需要计算的话还是需要借助相关的工具库。</p></li></ol> <h3 id="整数的检测"><a href="#整数的检测" aria-hidden="true" class="header-anchor">#</a> 整数的检测</h3> <ol><li>可以使用ES6中的<code>Number.isInteger(...)</code>方法。</li> <li>也可写ES6之前的polyfill Number.isInteger方法。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span>isInteger<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Number<span class="token punctuation">.</span><span class="token function-variable function">isInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">typeof</span> num <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">%</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">0</span>；
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>要检测一个值是否是安全的整数，可以用 <code>Number.isSafeInteger(...)</code> 方法。</li> <li>ES6之前的polyfill Number.isSafeInteger方法。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span>isSafeInteger<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Number<span class="token punctuation">.</span><span class="token function-variable function">isSafeInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="不是数字的数字"><a href="#不是数字的数字" aria-hidden="true" class="header-anchor">#</a> 不是数字的数字</h3> <ol><li><code>NaN</code> ，一个“警戒值”(特殊用途的常规值)，用于指出数字类型中的错误情况，即&quot;执行数学运算没有成功，这是失败后返回的结果&quot;，但仍然是数字类型，它也是唯一一个不与自身相等的特殊值。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
	
	a <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
	a <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="tip custom-block"><p>利用自身不相等的特性 <code>NaN !== NaN // true</code> 来判断是不是NaN。</p></div> <ol start="2"><li><code>isNaN</code> 的缺陷。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
	
	a<span class="token punctuation">;</span> <span class="token comment">// NaN</span>
	b<span class="token punctuation">;</span> <span class="token string">&quot;foo&quot;</span>
	
	window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
	window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true -- 晕！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="tip custom-block"><p>&quot;foo&quot;不是一个数字，但也不是NaN， <code>isNaN</code> 判断的不够准确。</p></div> <ol start="3"><li>ES6的 <code>Number.isNaN(..)</code> 修复了bug, polyfill Number.isNaN。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span>isNaN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Number<span class="token punctuation">.</span><span class="token function-variable function">isNaN</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span>
				<span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> 
				window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
	
	Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
	Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false-----好！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="infinity"><a href="#infinity" aria-hidden="true" class="header-anchor">#</a> Infinity</h3> <ol><li>Javascript运算结果溢出，此时的结果为 <code>Infinity</code> 或 <code>-Infinity</code></li> <li>当 Javascript 运算溢出的时候，会根据 IEEE754 规范中的&quot;就近取整&quot;(round-to-nearest)模式决定结果, 假如有个数相对Infinity, 与 Number.MAX_VALUE 更近则会&quot;向下取整&quot;, 如果与 Infinity 更接近则会&quot;向上取整&quot;。</li> <li>Infinity / Infinity, 结果是NaN, 因为这是个未定义操作。</li></ol> <h3 id="零值"><a href="#零值" aria-hidden="true" class="header-anchor">#</a> 零值</h3> <ol><li>为什么会得到-0？</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>   <span class="token comment">// -0</span>
	<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">*</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>   <span class="token comment">// -0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p>加法和减法不会得到-0</p></div> <ol start="2"><li><p>对负零字符串化会得到0，反过来从字符串转为数字，得到结果准确('-0' -&gt; 0)。</p></li> <li><p>区分0和-0</p></li></ol> <p>实际上 <code>0 === -0 // true</code> , 所以：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>	<span class="token keyword">function</span> <span class="token function">isNegZero</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		n <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> n <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token function">isNegZero</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	   <span class="token comment">// true</span>
	<span class="token function">isNegZero</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
	<span class="token function">isNegZero</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="4"><li>我们为什么需要-0？ 有些时候应用程序中需要以级数形式表示(比如动画帧的移动速度)，数字的符号位(sign)用来代表其他信息(比如移动的方向)。此时如果一个值为0的变量失去了它的符号位，他的方向信息就丢失了。所以保留0值的符号位可以防止这种情况发生。</li></ol> <h3 id="注意-2"><a href="#注意-2" aria-hidden="true" class="header-anchor">#</a> 注意</h3> <p><code>NaN 也是 number类型的</code></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/notebook/js/javascript.html" class="prev">
          什么是JavaScript
        </a></span> <span class="next"><a href="/notebook/js/tools.html">
          一些工具函数
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notebook/assets/js/app.ba99c14d.js" defer></script><script src="/notebook/assets/js/2.35fbb34e.js" defer></script><script src="/notebook/assets/js/20.7ba0578a.js" defer></script>
  </body>
</html>
